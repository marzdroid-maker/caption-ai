<!DOCTYPE html>
<html lang="en">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
Â  <title>AI Caption + Hashtag Generator</title>
Â  <style>
Â  Â  :root {
Â  Â  Â  --primary: #3b82f6;
Â  Â  Â  --primary-dark: #2563eb;
Â  Â  Â  --gray: #6b7280;
Â  Â  Â  --light: #f3f4f6;
Â  Â  Â  --border: #e5e7eb;
Â  Â  Â  --placeholder: #9ca3af;
Â  Â  Â  --success: #10b981;
Â  Â  Â  --success-dark: #059669;
Â  Â  Â  --error: #ef4444;
Â  Â  Â  --warning: #f59e0b;
Â  Â  }
Â  Â  * { box-sizing: border-box; margin: 0; padding: 0; }
Â  Â  body {
Â  Â  Â  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
Â  Â  Â  background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
Â  Â  Â  color: #111;
Â  Â  Â  min-height: 100vh;
Â  Â  Â  padding: 2rem 1rem;
Â  Â  }
Â  Â  .container { max-width: 600px; margin: 0 auto; }
Â  Â  h1 { font-size: 2.25rem; font-weight: 700; text-align: center; margin-bottom: .5rem; }
Â  Â  p.subtitle { text-align: center; color: var(--gray); margin-bottom: 1.5rem; font-size: 1.1rem; }

Â  Â  .proof {
Â  Â  Â  background: #ecfdf5;
Â  Â  Â  border: 1px solid #a7f3d0;
Â  Â  Â  padding: 1rem;
Â  Â  Â  border-radius: .75rem;
Â  Â  Â  text-align: center;
Â  Â  Â  margin-bottom: 1.5rem;
Â  Â  Â  font-size: .95rem;
Â  Â  Â  color: #065f46;
Â  Â  }
Â  Â  .proof strong { font-weight: 600; }

Â  Â  #emailModal {
Â  Â  Â  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
Â  Â  Â  background: rgba(0,0,0,0.7); display: flex; align-items: center;
Â  Â  Â  justify-content: center; z-index: 9999;
Â  Â  }
Â  Â  .modal-content {
Â  Â  Â  background: white; padding: 2rem; border-radius: 1rem;
Â  Â  Â  width: 90%; max-width: 400px; text-align: center;
Â  Â  Â  box-shadow: 0 10px 25px rgba(0,0,0,0.2);
Â  Â  }
Â  Â  .modal-content h2 { margin-bottom: 1rem; font-size: 1.5rem; }
Â  Â  .modal-content p { margin-bottom: 1.5rem; color: #555; }
Â  Â  .modal-content input {
Â  Â  Â  width: 100%; padding: .75rem; border: 2px solid #e5e7eb;
Â  Â  Â  border-radius: .5rem; font-size: 1rem; margin-bottom: 1rem;
Â  Â  }
Â  Â  .modal-content button {
Â  Â  Â  background: var(--primary); color: white; border: none;
Â  Â  Â  padding: .75rem 1.5rem; border-radius: .5rem; font-weight: 600;
Â  Â  Â  cursor: pointer; width: 100%;
Â  Â  }

Â  Â  label { display: block; margin-bottom: .5rem; font-weight: 600; color: #111; }
Â  Â  input, select {
Â  Â  Â  width: 100%; padding: .75rem 1rem; border: 2px solid var(--border);
Â  Â  Â  border-radius: .5rem; font-size: 1rem; margin-bottom: 1rem;
Â  Â  Â  transition: border .2s;
Â  Â  }
Â  Â  input:focus, select:focus { outline: none; border-color: var(--primary); }
Â  Â  input::placeholder { color: var(--placeholder); font-style: italic; }

Â  Â  select option[disabled] { display: none; }
Â  Â  select option[data-placeholder] { color: var(--placeholder); font-style: italic; }
Â  Â  select:invalid { color: var(--placeholder); }
Â  Â  select:valid { color: #111; }

Â  Â  button {
Â  Â  Â  width: 100%; background: var(--primary); color: white; border: none;
Â  Â  Â  padding: 1rem; font-size: 1.1rem; font-weight: 600; border-radius: .5rem;
Â  Â  Â  cursor: pointer; transition: background .2s;
Â  Â  }
Â  Â  button:hover { background: var(--primary-dark); }
Â  Â  button:disabled { background: #93c5fd; cursor: not-allowed; }
Â  Â Â 
Â  Â  /* New Tab Styles */
Â  Â  #tabHeader {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  margin-bottom: 1.5rem;
Â  Â  Â  Â  border-bottom: 2px solid var(--border);
Â  Â  }
Â  Â  .tab-btn {
Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  padding: 0.75rem 0;
Â  Â  Â  Â  background: none;
Â  Â  Â  Â  border: none;
Â  Â  Â  Â  font-weight: 600;
Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  color: var(--gray);
Â  Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  Â  border-bottom: 3px solid transparent;
Â  Â  Â  Â  transition: color 0.2s, border-bottom 0.2s;
Â  Â  Â  Â  border-radius: 0;
Â  Â  Â  Â  width: auto; /* Override button width */
Â  Â  }
Â  Â  .tab-btn.active {
Â  Â  Â  Â  color: var(--primary);
Â  Â  Â  Â  border-bottom: 3px solid var(--primary);
Â  Â  }
Â  Â  .tab-content {
Â  Â  Â  Â  padding: 0; /* Remove padding from tab content wrapper */
Â  Â  }
Â  Â  /* Analysis Result Box */
Â  Â  .analysis-card {
Â  Â  Â  Â  background: white;
Â  Â  Â  Â  border: 1px solid var(--border);
Â  Â  Â  Â  border-radius: .75rem;
Â  Â  Â  Â  padding: 1.5rem;
Â  Â  Â  Â  margin-top: 1.5rem;
Â  Â  Â  Â  box-shadow: 0 4px 12px rgba(0,0,0,.05);
Â  Â  }
Â  Â  .analysis-score {
Â  Â  Â  Â  font-size: 2.5rem;
Â  Â  Â  Â  font-weight: 700;
Â  Â  Â  Â  color: var(--primary);
Â  Â  Â  Â  text-align: center;
Â  Â  Â  Â  margin-bottom: .5rem;
Â  Â  }
Â  Â  .analysis-detail {
Â  Â  Â  Â  margin-top: 1rem;
Â  Â  Â  Â  padding-top: 1rem;
Â  Â  Â  Â  border-top: 1px dashed var(--border);
Â  Â  }
Â  Â  .analysis-detail p {
Â  Â  Â  Â  margin-bottom: .5rem;
Â  Â  Â  Â  line-height: 1.4;
Â  Â  }
Â  Â  .analysis-detail strong {
Â  Â  Â  Â  color: #111;
Â  Â  Â  Â  font-weight: 700;
Â  Â  }
Â  Â  /* Updated button styling */
Â  Â  #analyzeAgainBtn {Â 
Â  Â  Â  Â  background: var(--primary);
Â  Â  Â  Â  margin-top: 1rem;
Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  font-size: 1rem;
Â  Â  }
Â  Â  /* End New Tab Styles */


Â  Â  #emojiPickerBtn {
Â  Â  Â  background: var(--warning); margin: 1rem 0; width: auto; padding: .5rem 1rem; font-size: .9rem;
Â  Â  }

Â  Â  .emoji-picker-container {
Â  Â  Â  position: relative;Â 
Â  Â  Â  text-align: left;Â 
Â  Â  Â  display: flex;
Â  Â  Â  justify-content: center;
Â  Â  }

Â  Â  #emojiPicker {
Â  Â  Â  display: none;Â 
Â  Â  Â  position: absolute;Â 
Â  Â  Â  background: white;Â 
Â  Â  Â  border: 1px solid #e5e7eb;
Â  Â  Â  border-radius: .75rem;Â 
Â  Â  Â  padding: 1rem;Â 
Â  Â  Â  max-width: 300px;Â 
Â  Â  Â  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
Â  Â  Â  z-index: 100;Â 
Â  Â  Â  text-align: center;
Â  Â  Â  max-height: 350px;Â 
Â  Â  Â  flex-direction: column;
Â  Â  Â  right: 0;Â 
Â  Â  Â  top: 100%;Â 
Â  Â  Â  transform: translateY(5px);
Â  Â  }

Â  Â  #emojiGrid {
Â  Â  Â  display: grid;Â 
Â  Â  Â  grid-template-columns: repeat(6, 1fr);Â 
Â  Â  Â  gap: .5rem;Â 
Â  Â  Â  font-size: 1.5rem;
Â  Â  Â  margin: .75rem 0;
Â  Â  Â  overflow-y: auto;Â 
Â  Â  Â  padding-right: 5px;Â 
Â  Â  }
Â  Â  #emojiGrid button {
Â  Â  Â  background: none; border: none; font-size: 1.5rem; cursor: pointer; padding: 0;
Â  Â  }
Â  Â  #closePicker {
Â  Â  Â  margin-top: .5rem; background: #6b7280; color: white; padding: .5rem 1rem;
Â  Â  Â  border-radius: .5rem; font-size: .8rem; width: auto;
Â  Â  }

Â  Â  .result {
Â  Â  Â  margin-top: 2rem; padding: 1.5rem; background: white; border-radius: .75rem;
Â  Â  Â  box-shadow: 0 4px 12px rgba(0,0,0,.05); position: relative;
Â  Â  }
Â  Â  .result h3 { margin-bottom: .75rem; color: var(--primary); }
Â  Â  .result pre {
Â  Â  Â  white-space: pre-wrap; font-family: inherit; line-height: 1.6; margin-bottom: 1rem;
Â  Â  }
Â  Â  #copyBtn {
Â  Â  Â  position: absolute; top: 1rem; right: 1rem; background: var(--success);
Â  Â  Â  color: white; padding: .5rem 1rem; border: none; border-radius: .5rem;
Â  Â  Â  font-size: .9rem; cursor: pointer; transition: background .2s;
Â  Â  }
Â  Â  #copyBtn:hover { background: var(--success-dark); }
Â  Â  #copyBtn.copied { background: #059669; }

Â  Â  #proTemplates {
Â  Â  Â  margin-top: 2rem; padding: 1.5rem; background: #f0fdf4; border: 1px solid #bbf7d0; border-radius: .75rem;
Â  Â  }
Â  Â  .templateBtn {
Â  Â  Â  text-align: left;
Â  Â  Â  padding: .75rem;
Â  Â  Â  background: white;
Â  Â  Â  border: 1px solid #d1d5db;
Â  Â  Â  border-radius: .5rem;
Â  Â  Â  font-size: .9rem;
Â  Â  Â  margin-bottom: .5rem;
Â  Â  Â  cursor: pointer;
Â  Â  Â  color: #111 !important;
Â  Â  Â  line-height: 1.4;
Â  Â  Â  display: block; /* Ensure buttons take full width */
Â  Â  }
Â  Â  .templateBtn:hover {
Â  Â  Â  background: #f9fafb;
Â  Â  Â  color: #111 !important;
Â  Â  }
Â  Â Â 
Â  Â  /* Template Paging Styles */
Â  Â  #templatePaging {
Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  justify-content: center;
Â  Â  Â  Â  gap: 1rem;
Â  Â  Â  Â  margin-top: 1rem;
Â  Â  }
Â  Â  #templatePaging button {
Â  Â  Â  Â  width: auto;
Â  Â  Â  Â  padding: .5rem 1.2rem;
Â  Â  Â  Â  background: #9ca3af; /* Gray for inactive */
Â  Â  Â  Â  font-weight: 500;
Â  Â  Â  Â  font-size: .9rem;
Â  Â  }
Â  Â  #templatePaging button.active {
Â  Â  Â  Â  background: var(--primary); /* Blue for active */
Â  Â  Â  Â  font-weight: 700;
Â  Â  }
Â  Â  #templatePaging button:hover {
Â  Â  Â  Â  background: var(--primary-dark);
Â  Â  }
Â  Â  /* End Template Paging Styles */

Â  Â  .paywall {
Â  Â  Â  margin-top: 2rem; padding: 2rem; background: #fefce8; border-radius: .75rem;
Â  Â  Â  text-align: center; border: 2px solid #fde68a;
Â  Â  }
Â  Â  .paywall h3 { margin-bottom: .5rem; font-size: 1.5rem; }
Â  Â  .paywall p { color: #92400e; margin-bottom: 1rem; }
Â  Â  .paywall button {
Â  Â  Â  background: #16a34a; padding: .75rem 1.5rem; font-size: 1rem;
Â  Â  Â  width: auto; display: inline-block;
Â  Â  }
Â  Â  .paywall button:hover { background: #15803d; }

Â  Â  .hidden { display: none; }
Â  Â  .loading { text-align: center; margin: 1rem 0; color: var(--gray); font-style: italic; }

Â  Â  footer {
Â  Â  Â  margin-top: 3rem; text-align: center; color: #6b7280; font-size: 0.875rem;
Â  Â  }
Â  Â  footer a { color: inherit; margin: 0 1rem; text-decoration: underline; }

Â  Â  /* PRO TEMPLATES GRID */
Â  Â  #templateContainer {
Â  Â  Â  display: grid;
Â  Â  Â  gap: .5rem;
Â  Â  Â  font-size: .9rem;
Â  Â  Â  margin-top: 1rem;
Â  Â  }
Â  Â  /* Hide the second page initially */
Â  Â  #templatePage2 {
Â  Â  Â  Â  display: none;
Â  Â  }

Â  Â  @media (max-width: 480px) {
Â  Â  Â  h1 { font-size: 1.75rem; }
Â  Â  Â  .container { padding: 0 1rem; }
Â  Â  Â  #copyBtn { position: static; margin-top: 1rem; width: 100%; }
Â  Â  Â  #emojiGrid { grid-template-columns: repeat(5, 1fr); }
Â  Â  Â  #emojiPicker {Â 
Â  Â  Â  Â  right: auto;
Â  Â  Â  Â  left: 50%;
Â  Â  Â  Â  transform: translateX(-50%) translateY(5px);
Â  Â  Â  }
Â  Â  }
Â  </style>
</head>
<body>

Â  <div id="emailModal">
Â  Â  <div class="modal-content">
Â  Â  Â  <h2>Welcome!</h2>
Â  Â  Â  <p>Enter your email to get <strong>3 free generations</strong>.</p>
Â  Â  Â  <input type="email" id="emailInput" placeholder="you@example.com" required />
Â  Â  Â  <button id="emailSubmit">Start Generating</button>
Â  Â  </div>
Â  </div>

Â  <div class="container" id="mainApp" style="display: none;">
Â  Â  <h1>AI Caption + Hashtag Generator</h1>
Â  Â  <p class="subtitle">Get 5 viral captions + 30 hashtags in 3 seconds.</p>

Â  Â  <div class="proof">
Â  Â  Â  <strong>Trusted by 50+ creators, solopreneurs, and small businesses</strong>
Â  Â  </div>

Â  Â  <div id="tabContainer">
Â  Â  Â  Â  <div id="tabHeader">
Â  Â  Â  Â  Â  Â  <button id="generateTabBtn" class="tab-btn active" data-target="generateContent">Generate Content</button>
Â  Â  Â  Â  Â  Â  <button id="analyzeTabBtn" class="tab-btn" data-target="analyzeContent">Analyze Competitor (Pro)</button>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div id="generateContent" class="tab-content">
Â  Â  Â  Â  Â  Â  <form id="captionForm">
Â  Â  Â  Â  Â  Â  Â  Â  <label for="idea">Post Idea</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="idea" placeholder="e.g. Just launched my coffee shop" required />

Â  Â  Â  Â  Â  Â  Â  Â  <label for="platform">Platform</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="platform" required>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="" disabled selected data-placeholder>Choose platform</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Instagram">Instagram</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Twitter">Twitter</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="LinkedIn">LinkedIn</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="TikTok">TikTok</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>

Â  Â  Â  Â  Â  Â  Â  Â  <label for="tone">Tone</label>
Â  Â  Â  Â  Â  Â  Â  Â  <select id="tone" required>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="" disabled selected data-placeholder>Choose tone</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Professional">Professional</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Fun & Playful">Fun & Playful</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Inspirational">Inspirational</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Bold & Confident">Bold & Confident</option>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <option value="Casual & Friendly">Casual & Friendly</option>
Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <button type="submit" id="generateBtn">Generate Captions</button>
Â  Â  Â  Â  Â  Â  </form>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div class="emoji-picker-container">
Â  Â  Â  Â  Â  Â  Â  <button type="button" id="emojiPickerBtn">Add Emojis</button>
Â  Â  Â  Â  Â  Â  Â  <div id="emojiPicker">
Â  Â  Â  Â  Â  Â  Â  Â  <p style="margin-bottom: .75rem; font-weight: 600;">Pick Emojis</p>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="emojiGrid"></div>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="closePicker">Close</button>
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="loading" class="loading hidden">Generating magic...</div>

Â  Â  Â  Â  Â  Â  <div id="result" class="result hidden">
Â  Â  Â  Â  Â  Â  Â  <h3>Your AI Captions</h3>
Â  Â  Â  Â  Â  Â  Â  <pre id="output"></pre>
Â  Â  Â  Â  Â  Â  Â  <button type="button" id="copyBtn">Copy All</button>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="proTemplates">
Â  Â  Â  Â  Â  Â  Â  <h3>The Viral Swipe File: Proven 6-Figure Post Structures</h3>
Â  Â  Â  Â  Â  Â  Â  <p style="margin: 1rem 0 .75rem; font-size: .95rem; color: #065f46; line-height: 1.5;">
Â  Â  Â  Â  Â  Â  Â  Â  <strong>Steal the exact captions used by 6-figure creators.</strong>Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  These arenâ€™t random â€” theyâ€™re <em>proven</em> to get 3x more likes, comments, and saves.Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Just click, edit, generate. <strong>Instant viral edge.</strong>
Â  Â  Â  Â  Â  Â  Â  </p>

Â  Â  Â  Â  Â  Â  Â  <div id="templateContainer" class="hidden" style="display: none !important;">
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div id="templatePage1">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Just hit [X] followers! Grateful for every one of you Heart Sparkles">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Just hit [X] followers! Grateful for every one of you â¤ï¸ âœ¨
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Behind the scenes of [your idea] Camera Film">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Behind the scenes of [your idea] ğŸ“¸ ğŸ¬
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Tag a friend who needs this! Hand Point Down">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Tag a friend who needs this! ğŸ‘‡
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="New drop alert! Link in bio Shopping Bag Fire">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  New drop alert! Link in bio ğŸ›ï¸ ğŸ”¥
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Your daily dose of [topic] Coffee Mug Light Bulb">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Your daily dose of [topic] â˜• ğŸ’¡
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Reply with YES or NO: [question]? Question Mark Thinking Face">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Reply with YES or NO: [question]? â“ ğŸ¤”
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Save this for later â€” youâ€™ll thank me! Bookmark Sparkles">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Save this for later â€” youâ€™ll thank me! ğŸ”– âœ¨
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Free [resource] in bio! Donâ€™t miss it Gift Rocket">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Free [resource] in bio! Donâ€™t miss it ğŸ ğŸš€
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Swipe up to see the full story! Hand Point Up Film">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Swipe up to see the full story! ğŸ‘† ğŸ¬
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="'Changed my [niche] game!' â€“ @username Star Speech Bubble">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  "Changed my [niche] game!" â€“ @username â­ ğŸ’¬
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div id="templatePage2">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="You think [Product] is too expensive? Here's the ROI breakdown. Money Bag Chart Increasing">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  You think [Product] is too expensive? Here's the ROI breakdown. ğŸ’¸ ğŸ“ˆ
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Stop wasting time on [Frustrating Task]. Our 3-step solution: [Solution]. Crying Face Check Mark">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Stop wasting time on [Frustrating Task]. Our 3-step solution: [Solution]. ğŸ˜« âœ…
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="6 months ago I was [Stuck]... now I'm [Success]. The difference: [1 Thing]. Thinking Face Light Bulb">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  6 months ago I was [Stuck]... now I'm [Success]. The difference: [1 Thing]. ğŸ¤¯ ğŸ’¡
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="How I made [High Result] in [Short Time]: Step 1: [Action]. Save for steps 2 & 3. Toolbox Target">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  How I made [High Result] in [Short Time]: Step 1: [Action]. Save for steps 2 & 3. ğŸ› ï¸ ğŸ¯
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Unpopular opinion: [Common Belief] is completely wrong. Here's why. Speech Bubble Cross Mark">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Unpopular opinion: [Common Belief] is completely wrong. Here's why. ğŸ—£ï¸ âŒ
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Get the exact checklist I use to [Goal]! Click the link that says Link Bookmark">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Get the exact checklist I use to [Goal]! Click the link that says "Free Guide." ğŸ”— ğŸ”–
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Myth: You need [X] to succeed. Reality: You only need [Y]. Which shocked you? Smiling Face 100 Score">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Myth: You need [X] to succeed. Reality: You only need [Y]. Which shocked you? ğŸ˜® ğŸ’¯
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="Client Spotlight: [Client Name] went from [A] to [B] in 30 days. Their secret was [Tool]. User Rocket">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Client Spotlight: [Client Name] went from [A] to [B] in 30 days. Their secret was [Tool]. ğŸ‘¤ ğŸš€
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="My most impactful habit for [Goal]? Doing [Task] at [Time]. Steal it. Alarm Clock Flexed Biceps">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  My most impactful habit for [Goal]? Doing [Task] at [Time]. Steal it. â° ğŸ’ª
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="templateBtn" data-text="[Option A] vs. [Option B]: Which is better for [Specific Use Case]? Swipe to see the pros/cons. Balance Scale Magnifying Glass">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  [Option A] vs. [Option B]: Which is better for [Specific Use Case]? Swipe to see the pros/cons. âš–ï¸ ğŸ§
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <div id="templatePaging">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="page1Btn" class="active">Page 1</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button id="page2Btn">Page 2</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  <div id="templateTeaser">
Â  Â  Â  Â  Â  Â  Â  Â  <p style="font-size: .9rem; color: #92400e; font-style: italic; margin-top: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  <strong>Unlock 20 Viral Swipe File Structures</strong> â€” only available in <strong>Pro</strong>.
Â  Â  Â  Â  Â  Â  Â  Â  </p>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="unlockTemplatesBtn" style="
Â  Â  Â  Â  Â  Â  Â  Â  Â  background: #f59e0b; color: white; border: none; padding: .6rem 1.2rem;
Â  Â  Â  Â  Â  Â  Â  Â  Â  border-radius: .5rem; font-size: .9rem; font-weight: 600; cursor: pointer;
Â  Â  Â  Â  Â  Â  Â  Â  Â  margin-top: .5rem;
Â  Â  Â  Â  Â  Â  Â  Â  ">Upgrade to Pro</button>
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="paywall" class="paywall hidden">
Â  Â  Â  Â  Â  Â  Â  <h3>Upgrade to Pro!</h3>
Â  Â  Â  Â  Â  Â  Â  <p>You've used your 3 free generations. <strong>Unlimited + 20 Viral Swipe File Structures</strong> for <strong>$7/month</strong>.</p>
Â  Â  Â  Â  Â  Â  Â  <button id="subscribeBtn">Subscribe Now</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div id="analyzeContent" class="tab-content hidden">
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  <div id="analysisDescription" style="
Â  Â  Â  Â  Â  Â  Â  Â  background: #f0f9ff;Â 
Â  Â  Â  Â  Â  Â  Â  Â  border: 1px solid #bae6fd;Â 
Â  Â  Â  Â  Â  Â  Â  Â  padding: 1.2rem;Â 
Â  Â  Â  Â  Â  Â  Â  Â  border-radius: .75rem;Â 
Â  Â  Â  Â  Â  Â  Â  Â  margin-bottom: 1.5rem;
Â  Â  Â  Â  Â  Â  Â  Â  font-size: .95rem;
Â  Â  Â  Â  Â  Â  Â  Â  line-height: 1.5;
Â  Â  Â  Â  Â  Â  Â  Â  color: #0369a1;
Â  Â  Â  Â  Â  Â  ">
Â  Â  Â  Â  Â  Â  Â  Â  <h4 style="margin-bottom: .5rem; color: #075985; font-size: 1.1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  **Reverse-Engineer Viral Success** ğŸ”¬
Â  Â  Â  Â  Â  Â  Â  Â  </h4>
Â  Â  Â  Â  Â  Â  Â  Â  Paste *any* competitor's post URL (Instagram, Twitter, etc.) and our AI will **deconstruct their strategy**.Â 
Â  Â  Â  Â  Â  Â  Â  Â  Get an instant **Content Score** and a detailed breakdown of their **hook**, **CTA**, and **hashtag usage**.Â 
Â  Â  Â  Â  Â  Â  Â  Â  This is your competitive edge to go viral faster.
Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  <div id="analysisPaywall" class="paywall hidden" style="margin-top: 1rem;">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>Unlock Analysis!</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <p>Content Scoring is an exclusive **Pro** feature. **Unlimited Access** for **$7/month**.</p>
Â  Â  Â  Â  Â  Â  Â  Â  <button id="subscribeAnalyzeBtn">Upgrade to Pro</button>
Â  Â  Â  Â  Â  Â  </div>


Â  Â  Â  Â  Â  Â  <form id="analyzeForm" class="hidden"> <label for="competitorUrl">Competitor Post URL</label>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="url" id="competitorUrl" placeholder="e.g. https://instagram.com/p/B..." required />
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <button type="submit" id="analyzeBtn">Analyze Post Structure</button>
Â  Â  Â  Â  Â  Â  </form>

Â  Â  Â  Â  Â  Â  <div id="analysisResult" class="analysis-card hidden">
Â  Â  Â  Â  Â  Â  Â  Â  <p style="text-align: center; font-size: 1.2rem; font-weight: 600; margin-bottom: 0;">Content Score</p>
Â  Â  Â  Â  Â  Â  Â  Â  <div id="analysisScore" class="analysis-score">--</div>
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  <div id="analysisDetails" class="analysis-detail">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  Â  <button id="analyzeAgainBtn">Analyze Another Post</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  </div>
Â  Â  Â  Â  </div>
Â  Â  <footer>
Â  Â  Â  <a href="/terms.html">Terms</a>
Â  Â  Â  <a href="/privacy.html">Privacy</a>
Â  Â  Â  <span>Â© 2025 Caption AI</span>
Â  Â  </footer>
Â  </div>

Â  <script>
Â  Â  const API_URL = 'https://caption-ai-ze13.onrender.com';
Â  Â  const modal = document.getElementById('emailModal');
Â  Â  const mainApp = document.getElementById('mainApp');
Â  Â  const emailInput = document.getElementById('emailInput');
Â  Â  const emailSubmit = document.getElementById('emailSubmit');

Â  Â  let userEmail = localStorage.getItem('userEmail');
Â  Â  let isPro = localStorage.getItem('isPro') === 'true'; // Set default isPro status

Â  Â  if (!userEmail) {
Â  Â  Â  emailSubmit.addEventListener('click', () => {
Â  Â  Â  Â  const email = emailInput.value.trim();
Â  Â  Â  Â  if (email && /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email)) {
Â  Â  Â  Â  Â  localStorage.setItem('userEmail', email);
Â  Â  Â  Â  Â  localStorage.setItem('freeUses', '0');
Â  Â  Â  Â  Â  modal.style.display = 'none';
Â  Â  Â  Â  Â  mainApp.style.display = 'block';
Â  Â  Â  Â  Â  userEmail = email;
Â  Â  Â  Â  Â  initApp();
Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  emailInput.style.borderColor = '#ef4444';
Â  Â  Â  Â  Â  emailInput.focus();
Â  Â  Â  Â  }
Â  Â  Â  });
Â  Â  } else {
Â  Â  Â  modal.style.display = 'none';
Â  Â  Â  mainApp.style.display = 'block';
Â  Â  Â  initApp();
Â  Â  }

Â  Â  function initApp() {
Â  Â  Â  const form = document.getElementById('captionForm');
Â  Â  Â  const generateBtn = document.getElementById('generateBtn');
Â  Â  Â  const loading = document.getElementById('loading');
Â  Â  Â  const result = document.getElementById('result');
Â  Â  Â  const output = document.getElementById('output');
Â  Â  Â  const paywall = document.getElementById('paywall');
Â  Â  Â  const subscribeBtn = document.getElementById('subscribeBtn');
Â  Â  Â  const copyBtn = document.getElementById('copyBtn');
Â  Â  Â  const analysisPaywall = document.getElementById('analysisPaywall');
Â  Â  Â  const subscribeAnalyzeBtn = document.getElementById('subscribeAnalyzeBtn');
Â  Â  Â  const emojiPickerBtn = document.getElementById('emojiPickerBtn');

Â  Â  Â  let debounceTimer;
Â  Â  Â  let isGenerating = false;
Â  Â  Â  let freeUses = parseInt(localStorage.getItem('freeUses') || '0');


Â  Â  Â  // === EMOJI MAP ===
Â  Â  Â  const emojiMap = {
Â  Â  Â  Â  'Camera': 'ğŸ“¸', 'Heart': 'â¤ï¸', 'Sparkles': 'âœ¨', 'Coffee': 'â˜•', 'Shopping Bag': 'ğŸ›ï¸',
Â  Â  Â  Â  'Rocket': 'ğŸš€', 'Fire': 'ğŸ”¥', 'Trophy': 'ğŸ†', 'Briefcase': 'ğŸ’¼', 'Handshake': 'ğŸ¤',
Â  Â  Â  Â  'Laptop': 'ğŸ’»', 'Sunrise': 'ğŸŒ…', 'Moon': 'ğŸŒ™', 'Pizza': 'ğŸ•', 'Leaf': 'ğŸƒ',
Â  Â  Â  Â  'Flexed Biceps': 'ğŸ’ª', 'Airplane': 'âœˆï¸', 'Book': 'ğŸ“š', 'Dog': 'ğŸ¶', 'Cat': 'ğŸ±',
Â  Â  Â  Â  'Birthday Cake': 'ğŸ‚', 'Party Popper': 'ğŸ‰', 'Star': 'â­', 'Film': 'ğŸ¬',
Â  Â  Â  Â  'Musical Notes': 'ğŸ¶', 'Dancer': 'ğŸ’ƒ', 'Play Button': 'â–¶ï¸', 'New': 'ğŸ†•', 'Sale': 'ğŸ·ï¸',
Â  Â  Â  Â  'Check Mark': 'âœ…', 'Cross Mark': 'âŒ', 'Hand Point Down': 'ğŸ‘‡', 'Coffee Mug': 'â˜•', 'Hand Wave': 'ğŸ‘‹',
Â  Â  Â  Â  'Light Bulb': 'ğŸ’¡', 'Thinking Face': 'ğŸ¤”', '100 Score': 'ğŸ’¯', 'Money Bag': 'ğŸ’¸',Â 
Â  Â  Â  Â  'Chart Increasing': 'ğŸ“ˆ', 'Target': 'ğŸ¯', 'Alarm Clock': 'â°', 'Question Mark': 'â“',
Â  Â  Â  Â  'Speech Bubble': 'ğŸ’¬', 'Crown': 'ğŸ‘‘', 'Diamond': 'ğŸ’', 'Robot': 'ğŸ¤–',
Â  Â  Â  Â  'Globe': 'ğŸŒ', 'Mountain': 'â›°ï¸', 'Pin': 'ğŸ“Œ', 'Megaphone': 'ğŸ“£',
Â  Â  Â  Â  'Writing Hand': 'âœï¸', 'Open Book': 'ğŸ“–', 'Smiling Face': 'ğŸ˜Š', 'Crying Face': 'ğŸ˜«',Â 
Â  Â  Â  Â  'Clapping Hands': 'ğŸ‘', 'Winking Face': 'ğŸ˜‰', 'Red Apple': 'ğŸ', 'Grapes': 'ğŸ‡',
Â  Â  Â  Â  'Donut': 'ğŸ©', 'Taco': 'ğŸŒ®', 'Beer Mug': 'ğŸº', 'Martini Glass': 'ğŸ¸',
Â  Â  Â  Â  'Car': 'ğŸš—', 'Bicycle': 'ğŸš²', 'Train': 'ğŸš†', 'Boat': 'â›µ',
Â  Â  Â  Â  'Fingers Crossed': 'ğŸ¤', 'Poo': 'ğŸ’©', 'Ghost': 'ğŸ‘»', 'Alien': 'ğŸ‘½',
Â  Â  Â  Â  'Lock': 'ğŸ”’', 'Key': 'ğŸ”‘', 'Toolbox': 'ğŸ› ï¸', 'Graduation Cap': 'ğŸ“',
Â  Â  Â  Â  'Bookmark': 'ğŸ”–', 'Gift': 'ğŸ', 'Hand Point Up': 'ğŸ‘†',
Â  Â  Â  Â  'Link': 'ğŸ”—', 'Balance Scale': 'âš–ï¸', 'Magnifying Glass': 'ğŸ§', 'User': 'ğŸ‘¤'Â 
Â  Â  Â  };

Â  Â  Â  // === TAB LOGIC FOR NEW FEATURE ===
Â  Â  Â  const generateTabBtn = document.getElementById('generateTabBtn');
Â  Â  Â  const analyzeTabBtn = document.getElementById('analyzeTabBtn');
Â  Â  Â  const generateContent = document.getElementById('generateContent');
Â  Â  Â  const analyzeContent = document.getElementById('analyzeContent');
Â  Â  Â  const analyzeForm = document.getElementById('analyzeForm');
Â  Â  Â  const competitorUrlInput = document.getElementById('competitorUrl');
Â  Â  Â  const analyzeBtn = document.getElementById('analyzeBtn');
Â  Â  Â  const analysisResult = document.getElementById('analysisResult');
Â  Â  Â  const analyzeAgainBtn = document.getElementById('analyzeAgainBtn');Â 
Â  Â  Â  const ideaInput = document.getElementById('idea');
Â  Â  Â  const platformSelect = document.getElementById('platform');
Â  Â  Â Â 
Â  Â  Â  let currentTab = 'generateContent';

Â  Â  Â  function showTab(tabName) {
Â  Â  Â  Â  Â  currentTab = tabName;
Â  Â  Â  Â  Â  analysisResult.classList.add('hidden'); // Hide analysis results when switching tabs
Â  Â  Â  Â  Â  loading.classList.add('hidden'); // Hide loading indicator
Â  Â  Â  Â  Â  result.classList.add('hidden'); // Hide generation result
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  if (tabName === 'generateContent') {
Â  Â  Â  Â  Â  Â  Â  generateContent.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  analyzeContent.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  generateTabBtn.classList.add('active');
Â  Â  Â  Â  Â  Â  Â  analyzeTabBtn.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  analysisPaywall.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  if (!isPro && freeUses >= 3) {
Â  Â  Â  Â  Â  Â  Â  Â  paywall.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  paywall.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  } else if (tabName === 'analyzeContent') {
Â  Â  Â  Â  Â  Â  Â  generateContent.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  analyzeContent.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  generateTabBtn.classList.remove('active');
Â  Â  Â  Â  Â  Â  Â  analyzeTabBtn.classList.add('active');
Â  Â  Â  Â  Â  Â  Â  paywall.classList.add('hidden'); // Hide main paywall in analysis tab

Â  Â  Â  Â  Â  Â  Â  if (!isPro) {
Â  Â  Â  Â  Â  Â  Â  Â  analysisPaywall.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  analyzeForm.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  analysisResult.classList.add('hidden'); // Ensure result is hidden if non-pro
Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  analysisPaywall.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  Â  analyzeForm.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  }

Â  Â  Â  generateTabBtn.addEventListener('click', () => showTab('generateContent'));
Â  Â  Â  analyzeTabBtn.addEventListener('click', () => showTab('analyzeContent'));
Â  Â  Â Â 
Â  Â  Â  // Analysis Paywall Subscribe Button now correctly triggers the main subscription logic
Â  Â  Â  subscribeAnalyzeBtn.addEventListener('click', async () => {
Â  Â  Â  Â  subscribeBtn.click();
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  // --- Platform Auto-Detection Function ---
Â  Â  Â  function detectPlatform(url) {
Â  Â  Â  Â  Â  url = url.toLowerCase();
Â  Â  Â  Â  Â  if (url.includes('instagram.com')) return 'Instagram';
Â  Â  Â  Â  Â  if (url.includes('twitter.com') || url.includes('x.com')) return 'Twitter';
Â  Â  Â  Â  Â  if (url.includes('linkedin.com')) return 'LinkedIn';
Â  Â  Â  Â  Â  if (url.includes('tiktok.com')) return 'TikTok';
Â  Â  Â  Â  Â  return 'Instagram'; // Default fallback
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  // === DETERMINISTIC SCORE GENERATION FUNCTION ===
Â  Â  Â  // A simple, consistent hashing function to ensure the same URL yields the same number.
Â  Â  Â  function hashString(str) {
Â  Â  Â  Â  Â  let hash = 0;
Â  Â  Â  Â  Â  for (let i = 0; i < str.length; i++) {
Â  Â  Â  Â  Â  Â  Â  const char = str.charCodeAt(i);
Â  Â  Â  Â  Â  Â  Â  hash = ((hash << 5) - hash) + char;
Â  Â  Â  Â  Â  Â  Â  hash |= 0; // Convert to 32bit integer
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  return Math.abs(hash);
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  // Function to generate score and mock analysis details deterministically
Â  Â  Â  function generateDeterministicScore(url) {
Â  Â  Â  Â  Â  const uniqueSeed = hashString(url.toLowerCase().trim());
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  // Map the unique seed to a score between 65 and 99
Â  Â  Â  Â  Â  const score = (uniqueSeed % 35) + 65; // Ensures score is between 65 and 99 (35 possible scores)
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  // Determine quality tiers based on the consistent score
Â  Â  Â  Â  Â  const quality = score > 90 ? 'High' : score > 80 ? 'Medium' : 'Low';
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  let hook, readability, hashtags, cta;

Â  Â  Â  Â  Â  if (quality === 'High') {
Â  Â  Â  Â  Â  Â  Â  hook = 'High urgency, clear value proposition. ğŸ”¥';
Â  Â  Â  Â  Â  Â  Â  readability = 'Excellent use of line breaks (4 lines/paragraph). âœ…';
Â  Â  Â  Â  Â  Â  Â  hashtags = 'Highly relevant, 90% niche-specific. ğŸ¯';
Â  Â  Â  Â  Â  Â  Â  cta = 'Clear call-to-action to save and comment. ğŸ’¬';
Â  Â  Â  Â  Â  } else if (quality === 'Medium') {
Â  Â  Â  Â  Â  Â  Â  hook = 'Decent hook, could be more specific and engaging. ğŸ‘';
Â  Â  Â  Â  Â  Â  Â  readability = 'Good structure, but a few blocks are too dense. âš ï¸';
Â  Â  Â  Â  Â  Â  Â  hashtags = 'Mix of niche and broad tags (50/50). ğŸ’¡';
Â  Â  Â  Â  Â  Â  Â  cta = 'General CTA, needs more direction. â“';
Â  Â  Â  Â  Â  } else { // Low
Â  Â  Â  Â  Â  Â  Â  hook = 'Vague hook, lacks clear value proposition. ğŸ‘';
Â  Â  Â  Â  Â  Â  Â  readability = 'Dense wall of text, poor line break usage. âŒ';
Â  Â  Â  Â  Â  Â  Â  hashtags = 'Too generic, mostly use broad tags. ğŸ’¡';
Â  Â  Â  Â  Â  Â  Â  cta = 'No clear CTA, relying on vague engagement. â“';
Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  return { score, hook, readability, hashtags, cta };
Â  Â  Â  }

Â  Â  Â  // Updated Analysis Logic
Â  Â  Â  analyzeForm.addEventListener('submit', (e) => {
Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  if (!isPro) return;
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  loading.classList.remove('hidden');
Â  Â  Â  Â  Â  analysisResult.classList.add('hidden');
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  const url = competitorUrlInput.value.trim();
Â  Â  Â  Â  Â  const platform = detectPlatform(url); // Auto-detect the platform
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  // --- DETERMINISTIC AI ANALYSIS ---
Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  loading.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  const analysisData = generateDeterministicScore(url);
Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  // Display results
Â  Â  Â  Â  Â  Â  Â  document.getElementById('analysisScore').textContent = analysisData.score;
Â  Â  Â  Â  Â  Â  Â  document.getElementById('analysisDetails').innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Platform Detected:</strong> ${platform}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Hook Score:</strong> ${analysisData.hook}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Readability:</strong> ${analysisData.readability}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Hashtag Usage:</strong> ${analysisData.hashtags}</p>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <p><strong>Call to Action:</strong> ${analysisData.cta}</p>
Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  analysisResult.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  analyzeForm.classList.add('hidden');
Â  Â  Â  Â  Â  }, 1500); // Simulate API call delay
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  // Analyze Again button
Â  Â  Â  analyzeAgainBtn.addEventListener('click', () => {
Â  Â  Â  Â  Â  analysisResult.classList.add('hidden');
Â  Â  Â  Â  Â  analyzeForm.classList.remove('hidden');
Â  Â  Â  Â  Â  competitorUrlInput.value = '';
Â  Â  Â  Â  Â  competitorUrlInput.focus();
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  // Ensure correct tab is shown on initialization
Â  Â  Â  showTab(currentTab);


Â  Â  Â  // === FORM SUBMISSION LOGIC ===
Â  Â  Â  form.addEventListener('submit', async (e) => {
Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  if (isGenerating) return;
Â  Â  Â  Â Â 
Â  Â  Â  Â  // Check free usage limit
Â  Â  Â  Â  if (!isPro && freeUses >= 3) {
Â  Â  Â  Â  Â  paywall.classList.remove('hidden');
Â  Â  Â  Â  Â  generateBtn.disabled = true;
Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  }

Â  Â  Â  Â  isGenerating = true;
Â  Â  Â  Â  generateBtn.disabled = true;
Â  Â  Â  Â  loading.classList.remove('hidden');
Â  Â  Â  Â  result.classList.add('hidden');

Â  Â  Â  Â  const idea = document.getElementById('idea').value;
Â  Â  Â  Â  const platform = document.getElementById('platform').value;
Â  Â  Â  Â  const tone = document.getElementById('tone').value;

Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  // Simulate API call
Â  Â  Â  Â  Â  await new Promise(resolve => setTimeout(resolve, 2000));
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  // Mock generation logic
Â  Â  Â  Â  Â  const mockCaptions = generateMockCaptions(idea, platform, tone);
Â  Â  Â  Â  Â  output.textContent = mockCaptions;

Â  Â  Â  Â  Â  result.classList.remove('hidden');
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  if (!isPro) {
Â  Â  Â  Â  Â  Â  freeUses++;
Â  Â  Â  Â  Â  Â  localStorage.setItem('freeUses', freeUses.toString());
Â  Â  Â  Â  Â  Â  if (freeUses >= 3) {
Â  Â  Â  Â  Â  Â  Â  paywall.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  generateBtn.disabled = true;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  console.error('Generation error:', error);
Â  Â  Â  Â  Â  alert('Failed to generate captions. Please try again.');
Â  Â  Â  Â  } finally {
Â  Â  Â  Â  Â  isGenerating = false;
Â  Â  Â  Â  Â  loading.classList.add('hidden');
Â  Â  Â  Â  Â  if (!paywall.classList.contains('hidden')) {
Â  Â  Â  Â  Â  Â  generateBtn.disabled = true;
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  generateBtn.disabled = false;
Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  // Mock Generation Function
Â  Â  Â  function generateMockCaptions(idea, platform, tone) {
Â  Â  Â  Â  Â  const baseHashtags = [
Â  Â  Â  Â  Â  Â  '#socialmediamarketing', '#contentcreator', '#entrepreneur', '#smallbusiness',
Â  Â  Â  Â  Â  Â  '#digitalmarketing', '#viral', '#growthhacks', '#inspiration'
Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  const nicheHashtags = idea.split(' ').map(word => '#' + word.toLowerCase().replace(/[^a-z0-9]/g, '')).filter(tag => tag.length > 1);
Â  Â  Â  Â  Â  const finalHashtags = [...new Set([...baseHashtags.slice(0, 5), ...nicheHashtags.slice(0, 5)])].slice(0, 8); // Max 8 unique tags

Â  Â  Â  Â  Â  const platformSpecificText = {
Â  Â  Â  Â  Â  Â  'Instagram': 'Double Tap if you agree!',
Â  Â  Â  Â  Â  Â  'Twitter': 'Retweet if this hits home!',
Â  Â  Â  Â  Â  Â  'LinkedIn': 'Thoughts? Let\'s discuss in the comments.',
Â  Â  Â  Â  Â  Â  'TikTok': 'Hit the + button for more like this!'
Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  const toneTemplates = {
Â  Â  Â  Â  Â  Â  'Professional': `
Â  Â  Â  Â  Â  Â  **Caption 1 (The Authority)**
Â  Â  Â  Â  Â  Â  Analyzing the impact of "${idea}" on modern ${platform} strategy. The key takeaway is: innovation drives engagement. What's your top strategy for ${idea}?
Â  Â  Â  Â  Â  Â  ${platformSpecificText[platform]}

Â  Â  Â  Â  Â  Â  **Caption 2 (The Insight)**
Â  Â  Â  Â  Â  Â  Data reveals that a focus on "${idea}" yields a 20% increase in lead conversion. Optimize your approach.
Â  Â  Â  Â  Â  Â  Link in bio for the full report.
Â  Â  Â  Â  Â  Â  `,
Â  Â  Â  Â  Â  Â  'Fun & Playful': `
Â  Â  Â  Â  Â  Â  **Caption 1 (The Hook)**
Â  Â  Â  Â  Â  Â  Obsessed is an understatement. This whole "${idea}" thing? Total game-changer. I mean, seriously. ğŸ¤¯
Â  Â  Â  Â  Â  Â  What's one thing you're obsessed with right now? ğŸ‘‡
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  **Caption 2 (The Vibe)**
Â  Â  Â  Â  Â  Â  Good vibes only when I'm working on ${idea}. Let the weekend begin! Who else feels this way? âœ¨
Â  Â  Â  Â  Â  Â  ${platformSpecificText[platform]}
Â  Â  Â  Â  Â  Â  `,
Â  Â  Â  Â  Â  Â  'Inspirational': `
Â  Â  Â  Â  Â  Â  **Caption 1 (The Vision)**
Â  Â  Â  Â  Â  Â  Remember why you started. Every great journey begins with a single step, like tackling "${idea}". Keep pushing. ğŸš€
Â  Â  Â  Â  Â  Â  What keeps you going?
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  **Caption 2 (The Mindset)**
Â  Â  Â  Â  Â  Â  Mindset shift: view every challenge with ${idea} as an opportunity. Growth happens outside your comfort zone. Let's do this! ğŸ’ª
Â  Â  Â  Â  Â  Â  Save this post for a reminder!
Â  Â  Â  Â  Â  Â  `,
Â  Â  Â  Â  Â  Â  'Bold & Confident': `
Â  Â  Â  Â  Â  Â  **Caption 1 (The Challenge)**
Â  Â  Â  Â  Â  Â  Stop settling for mediocre. This is your sign to level up your game with ${idea}. My results speak for themselves. You next?
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  **Caption 2 (The Claim)**
Â  Â  Â  Â  Â  Â  I cracked the code on "${idea}". It's simpler than you think, but you have to put in the work. No secret, just dedication.
Â  Â  Â  Â  Â  Â  Check out the link in bio for the full walkthrough.
Â  Â  Â  Â  Â  Â  `,
Â  Â  Â  Â  Â  Â  'Casual & Friendly': `
Â  Â  Â  Â  Â  Â  **Caption 1 (The Daily Life)**
Â  Â  Â  Â  Â  Â  Just a little reminder that focusing on ${idea} can make your day so much better. How are you spending your day? â˜€ï¸
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  **Caption 2 (The Question)**
Â  Â  Â  Â  Â  Â  Honestly, this "${idea}" thing has been a life saver. Curious, what's everyone else's favorite part about it? Drop a comment!
Â  Â  Â  Â  Â  Â  ${platformSpecificText[platform]}
Â  Â  Â  Â  Â  Â  `
Â  Â  Â  Â  Â  };

Â  Â  Â  Â  Â  let captionText = toneTemplates[tone] || toneTemplates['Casual & Friendly'];
Â  Â  Â  Â  Â  captionText = captionText.trim() + '\n\n' + finalHashtags.join(' ');
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  // Add a third generic caption for variety
Â  Â  Â  Â  Â  captionText += `\n\n**Caption 3 (The Engagement)**\nWhat's the #1 thing you struggle with when it comes to "${idea}"? Tell me below! ğŸ‘‡`;
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  return captionText;
Â  Â  Â  }

Â  Â  Â  // === COPY BUTTON LOGIC ===
Â  Â  Â  copyBtn.addEventListener('click', () => {
Â  Â  Â  Â  navigator.clipboard.writeText(output.textContent).then(() => {
Â  Â  Â  Â  Â  copyBtn.textContent = 'Copied!';
Â  Â  Â  Â  Â  copyBtn.classList.add('copied');
Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  copyBtn.textContent = 'Copy All';
Â  Â  Â  Â  Â  Â  copyBtn.classList.remove('copied');
Â  Â  Â  Â  Â  }, 2000);
Â  Â  Â  Â  });
Â  Â  Â  });

Â  Â  Â  // === UPGRADE TO PRO (MOCK SUBSCRIPTION) ===
Â  Â  Â  subscribeBtn.addEventListener('click', () => {
Â  Â  Â  Â  // Mock successful subscription
Â  Â  Â  Â  localStorage.setItem('isPro', 'true');
Â  Â  Â  Â  isPro = true;
Â  Â  Â  Â  paywall.classList.add('hidden');
Â  Â  Â  Â  analysisPaywall.classList.add('hidden');
Â  Â  Â  Â  generateBtn.disabled = false;
Â  Â  Â  Â  alert('Subscription successful! You now have Pro access.');
Â  Â  Â  Â  // Re-evaluate and show/hide elements for Pro access
Â  Â  Â  Â  showTab(currentTab);
Â  Â  Â  Â  checkProTemplatesAccess();
Â  Â  Â  });
Â  Â  Â Â 
Â  Â  Â  document.getElementById('unlockTemplatesBtn').addEventListener('click', () => {
Â  Â  Â  Â  subscribeBtn.click(); // Uses the main subscribe logic
Â  Â  Â  });

Â  Â  Â  // === PRO TEMPLATE LOGIC ===
Â  Â  Â  const templateContainer = document.getElementById('templateContainer');
Â  Â  Â  const templateTeaser = document.getElementById('templateTeaser');
Â  Â  Â  const templateBtns = document.querySelectorAll('.templateBtn');
Â  Â  Â  const ideaInputTemplate = document.getElementById('idea');

Â  Â  Â  function checkProTemplatesAccess() {
Â  Â  Â  Â  Â  if (isPro) {
Â  Â  Â  Â  Â  Â  Â  templateContainer.style.display = 'grid'; // Override inline style to show
Â  Â  Â  Â  Â  Â  Â  templateContainer.classList.remove('hidden');
Â  Â  Â  Â  Â  Â  Â  templateTeaser.classList.add('hidden');
Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  templateContainer.style.display = 'none !important'; // Hide using inline style
Â  Â  Â  Â  Â  Â  Â  templateContainer.classList.add('hidden');
Â  Â  Â  Â  Â  Â  Â  templateTeaser.classList.remove('hidden');
Â  Â  Â  Â  Â  }
Â  Â  Â  }

Â  Â  Â  // Apply template text to idea input and trigger generation
Â  Â  Â  templateBtns.forEach(btn => {
Â  Â  Â  Â  Â  btn.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  if (!isPro) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('Upgrade to Pro to use the Viral Swipe File Templates!');
Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  const templateText = btn.getAttribute('data-text');
Â  Â  Â  Â  Â  Â  Â  // Heuristic to convert simple text + emoji names into a coherent prompt idea
Â  Â  Â  Â  Â  Â  Â  const idea = templateText.replace(/ \b(?:Camera|Heart|Sparkles|Coffee|Shopping Bag|Rocket|Fire|Trophy|Briefcase|Handshake|Laptop|Sunrise|Moon|Pizza|Leaf|Flexed Biceps|Airplane|Book|Dog|Cat|Birthday Cake|Party Popper|Star|Film|Musical Notes|Dancer|Play Button|New|Sale|Check Mark|Cross Mark|Hand Point Down|Coffee Mug|Hand Wave|Light Bulb|Thinking Face|100 Score|Money Bag|Chart Increasing|Target|Alarm Clock|Question Mark|Speech Bubble|Crown|Diamond|Robot|Globe|Mountain|Pin|Megaphone|Writing Hand|Open Book|Smiling Face|Crying Face|Clapping Hands|Winking Face|Red Apple|Grapes|Donut|Taco|Beer Mug|Martini Glass|Car|Bicycle|Train|Boat|Fingers Crossed|Poo|Ghost|Alien|Lock|Key|Toolbox|Graduation Cap|Bookmark|Gift|Hand Point Up|Link|Balance Scale|Magnifying Glass|User)\b(?: |$)/g, '').trim();
Â  Â  Â  Â  Â  Â  Â  ideaInputTemplate.value = idea;
Â  Â  Â  Â  Â  Â  Â  // Suggest the user update the placeholders manually and generate
Â  Â  Â  Â  Â  Â  Â  alert('Template applied! Fill in the [placeholders] and click "Generate Captions."');
Â  Â  Â  Â  Â  });
Â  Â  Â  });

Â  Â  Â  // Template Paging Logic
Â  Â  Â  const page1 = document.getElementById('templatePage1');
Â  Â  Â  const page2 = document.getElementById('templatePage2');
Â  Â  Â  const page1Btn = document.getElementById('page1Btn');
Â  Â  Â  const page2Btn = document.getElementById('page2Btn');

Â  Â  Â  page1Btn.addEventListener('click', () => {
Â  Â  Â  Â  Â  page1.style.display = 'grid';
Â  Â  Â  Â  Â  page2.style.display = 'none';
Â  Â  Â  Â  Â  page1Btn.classList.add('active');
Â  Â  Â  Â  Â  page2Btn.classList.remove('active');
Â  Â  Â  });

Â  Â  Â  page2Btn.addEventListener('click', () => {
Â  Â  Â  Â  Â  page1.style.display = 'none';
Â  Â  Â  Â  Â  page2.style.display = 'grid';
Â  Â  Â  Â  Â  page1Btn.classList.remove('active');
Â  Â  Â  Â  Â  page2Btn.classList.add('active');
Â  Â  Â  });

Â  Â  Â  checkProTemplatesAccess(); // Initial check for templates
Â  Â  Â Â 
Â  Â  Â  // === EMOJI PICKER LOGIC ===
Â  Â  Â  const emojiPicker = document.getElementById('emojiPicker');
Â  Â  Â  const emojiGrid = document.getElementById('emojiGrid');
Â  Â  Â  const closePicker = document.getElementById('closePicker');

Â  Â  Â  // Populate the emoji grid
Â  Â  Â  Object.values(emojiMap).forEach(emoji => {
Â  Â  Â  Â  Â  const button = document.createElement('button');
Â  Â  Â  Â  Â  button.textContent = emoji;
Â  Â  Â  Â  Â  button.type = 'button';
Â  Â  Â  Â  Â  button.addEventListener('click', () => {
Â  Â  Â  Â  Â  Â  Â  ideaInput.value += emoji;
Â  Â  Â  Â  Â  Â  Â  ideaInput.focus();
Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  emojiGrid.appendChild(button);
Â  Â  Â  });

Â  Â  Â  emojiPickerBtn.addEventListener('click', () => {
Â  Â  Â  Â  Â  emojiPicker.style.display = 'flex';
Â  Â  Â  });

Â  Â  Â  closePicker.addEventListener('click', () => {
Â  Â  Â  Â  Â  emojiPicker.style.display = 'none';
Â  Â  Â  });
Â  Â  }
Â  </script>
</body>
</html>